{"version":3,"sources":["js/zoom-vanilla.js"],"names":["scrollHandlerFn","clickHandlerFn","keyHandlerFn","touchStartFn","touchMoveFn","offset","element","top","left","offsetParent","offsetLeft","offsetTop","ZoomService","this","_activeZoom","_initialScrollPosition","_initialTouchPosition","_touchMoveListener","_document","document","_window","window","_body","body","prototype","listen","addEventListener","event","target","getAttribute","_zoom","bind","e","tagName","classList","contains","metaKey","ctrlKey","open","currentSrc","src","width","innerWidth","Zoom","OFFSET","_activeZoomClose","zoomImage","_scrollHandler","_clickHandler","_keyHandler","_touchStart","stopPropagation","forceDispose","dispose","close","removeEventListener","scrollY","deltaY","Math","abs","keyCode","preventDefault","touches","pageY","_touchMove","img","_fullHeight","_fullWidth","_overlay","_targetImageWrap","_targetImage","_MAX_WIDTH","_MAX_HEIGHT","createElement","onload","Number","height","_zoomOriginal","className","style","position","_targetImageClone","cloneNode","visibility","offsetWidth","parentNode","replaceChild","appendChild","add","setAttribute","_calculateZoom","_triggerAnimation","originalFullImageWidth","originalFullImageHeight","scrollTop","maxScaleFactor","viewportHeight","innerHeight","viewportWidth","imageAspectRatio","viewportAspectRatio","_imgScaleFactor","imageOffset","viewportY","viewportX","imageCenterY","imageCenterX","_translateY","_translateX","webkitTransform","msTransform","transform","remove","removeChild"],"mappings":"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","sourceRoot":"/"}