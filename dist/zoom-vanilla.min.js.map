{"version":3,"sources":["js/zoom-vanilla.js"],"names":["scrollHandlerFn","clickHandlerFn","keyHandlerFn","touchStartFn","touchMoveFn","disposeFn","offset","element","rect","getBoundingClientRect","top","document","body","scrollTop","left","scrollLeft","ZoomService","this","_activeZoom","_initialScrollPosition","_initialTouchPosition","_touchMoveListener","_document","_window","window","_body","prototype","listen","addEventListener","event","target","getAttribute","_zoom","bind","e","tagName","classList","contains","metaKey","ctrlKey","open","currentSrc","src","width","innerWidth","Zoom","OFFSET","_activeZoomClose","zoomImage","_scrollHandler","_clickHandler","_keyHandler","_touchStart","stopPropagation","forceDispose","dispose","close","removeEventListener","scrollY","deltaY","Math","abs","keyCode","preventDefault","touches","pageY","_touchMove","img","_fullHeight","_fullWidth","_overlay","_targetImageWrap","_targetImage","_MAX_WIDTH","_MAX_HEIGHT","createElement","onload","Number","height","_zoomOriginal","className","style","position","_targetImageClone","cloneNode","visibility","offsetWidth","parentNode","replaceChild","appendChild","add","setAttribute","_calculateZoom","_triggerAnimation","originalFullImageWidth","originalFullImageHeight","maxScaleFactor","viewportHeight","innerHeight","viewportWidth","imageAspectRatio","viewportAspectRatio","_imgScaleFactor","imageOffset","viewportY","viewportX","imageCenterY","imageCenterX","_translateY","_translateX","webkitTransform","msTransform","transform","remove","removeChild"],"mappings":"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","sourceRoot":"/"}